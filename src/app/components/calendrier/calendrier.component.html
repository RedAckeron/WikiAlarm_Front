<!-- Navigation -->
<div class="nav-buttons">
  <button pButton type="button" label="Précédente" (click)="previousWeek()"></button>
  <span>{{ weekStart | date:'dd/MM' }} - {{ weekEnd | date:'dd/MM/yyyy' }}</span>
  <button pButton type="button" label="Suivante" (click)="nextWeek()"></button>
</div>

<!-- Calendrier -->
<div class="calendar">
  <!-- Jours de la semaine -->
  <div class="day" *ngFor="let day of weekDays">
    <!-- En-tête du jour -->
    <div class="day-header">
      <div>{{ day.name }}</div>
      <div>{{ day.date | date:'dd/MM' }}</div>
    </div>

    <!-- Liste des affectations -->
    <div class="assignments">
      <ng-container *ngIf="day.affectations">
        <div class="company sas" *ngIf="day.affectations.sas.length > 0">
          <span class="tag">SAS</span>
          <span class="name" *ngFor="let name of day.affectations.sas">{{ name }}</span>
        </div>

        <div class="company dumay" *ngIf="day.affectations.dumay.length > 0">
          <span class="tag">Dumay Mior</span>
          <span class="name" *ngFor="let name of day.affectations.dumay">{{ name }}</span>
        </div>

        <div class="company devilder" *ngIf="day.affectations.devilder.length > 0">
          <span class="tag">De Vilder</span>
          <span class="name" *ngFor="let name of day.affectations.devilder">{{ name }}</span>
        </div>

        <div class="company raway" *ngIf="day.affectations.raway.length > 0">
          <span class="tag">Raway</span>
          <span class="name" *ngFor="let name of day.affectations.raway">{{ name }}</span>
        </div>

        <div class="company service" *ngIf="day.affectations.service.length > 0">
          <span class="tag">Service de Garde</span>
          <span class="name" *ngFor="let name of day.affectations.service">{{ name }}</span>
        </div>

        <div class="company massart" *ngIf="day.affectations.massart.length > 0">
          <span class="tag">Massart</span>
          <span class="name" *ngFor="let name of day.affectations.massart">{{ name }}</span>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<p-toast></p-toast>
